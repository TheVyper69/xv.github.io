/* =================== Base del sitio =================== */
body {
  font-family: 'Open Sans', sans-serif;
  line-height: 1.6;
}
h1, h2, h3, h4, h5, h6, .navbar-brand { font-family: 'Playfair Display', serif; }

.section-title { font-size: 2.25rem; font-weight: 700; margin-bottom: 1.5rem; }

.hero, .cta {
  position: relative; min-height: 80vh;
  background-size: cover; background-position: center;
}
.hero .overlay, .cta .overlay {
  position: absolute; inset: 0;
  background: rgba(0,0,0,.45);
}
.hero .container, .cta .container { position: relative; z-index: 2; }

#countdown { font-size: 1.75rem; }

.list-group-item { background: transparent; border: none; padding-left: 0; }

@media (max-width: 767px) {
  .hero, .cta { min-height: 60vh; }
  #countdown { font-size: 1.25rem; }
}

/* =================== Fuegos artificiales =================== */
.fireworks {
  position: fixed; inset: 0; width: 100%; height: 100%;
  pointer-events: none; z-index: 1060;
}

/* =================== Overlay de invitaciÃ³n =================== */
body.locked { overflow: hidden; }

.invitation-overlay{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  background: #000;                 /* fondo negro al inicio */
  z-index: 1200;
  transition: background .6s ease;  /* se vuelve transparente si aplicas .fade */
}
.invitation-overlay.fade{ background: rgba(0,0,0,0); }
.invitation-overlay.hide{ animation: overlayOut .45s ease forwards; }
@keyframes overlayOut { to { opacity: 0; visibility: hidden; } }

.invite-stage{ text-align:center; user-select:none; }

/* ===== Sobre ===== */
.envelope{
  width: min(84vw, 440px);
  height: min(54vw, 280px);
  position: relative;
  perspective: 1200px;
  cursor: pointer;
}
.env-base, .env-lid{ position: absolute; inset: 0; border-radius: 12px; }

.env-base{
  background: linear-gradient(180deg,#fff 0%,#f2f2f2 100%);
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 20px 50px rgba(0,0,0,.35);
  overflow: hidden;   /* recorta solo al inicio */
  z-index: 1;         /* base del sobre */
}
/* ðŸš© Cuando el sobre se abre: dejamos de recortar */
.envelope.open .env-base{ overflow: visible; }

.env-lid{
  transform-origin: top center;
  background: linear-gradient(180deg,#f7e9c2 0%,#f1d788 100%);
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  height: 60%;
  box-shadow: 0 8px 18px rgba(0,0,0,.25);
  transition: transform .8s cubic-bezier(.25,.8,.25,1);
  z-index: 3;         /* tapa encima al inicio */
}
.envelope.open .env-lid{ transform: rotateX(180deg); }

/* ===== Carta / Foto (efecto crecer + subir) ===== */
.letter{
  position: absolute;
  left: 50%; top: 50%;                    /* centrada dentro del sobre */
  transform: translate(-50%, -50%) scale(0.3) translateY(40px);
  transform-origin: center;
  width: 90%; max-width: 420px;
  opacity: 0;
  transition:
    transform 1s ease .15s,
    opacity .5s ease .15s;
  will-change: transform, opacity;
  pointer-events: none;
  z-index: 4;                             /* âœ… por encima de la tapa */
}
.envelope.open .letter{
  transform: translate(-50%, -60%) scale(1);
  opacity: 1;
}

/* ===== Tarjeta 3D ===== */
.card3d{
  width: 100%; aspect-ratio: 3/2;
  position: relative;
  transform-style: preserve-3d;
  transition: transform .8s cubic-bezier(.2,.7,.2,1);
  pointer-events: auto;
}
.card3d .face{
  position: absolute; inset: 0;
  backface-visibility: hidden;
  border-radius: 14px; overflow: hidden;
  box-shadow: 0 12px 30px rgba(0,0,0,.45);
}
.card3d .front{ background: #000; }
.card3d .front img{ width: 100%; height: 100%; object-fit: cover; }

.card3d .back{
  transform: rotateY(180deg);
  background: linear-gradient(180deg,#222 0%,#000 100%);
  display: grid; place-items: center;
}

/* Volteo al segundo clic */
.card3d.flipped{ transform: rotateY(180deg); }

/* Modo pantalla completa opcional */
.card3d.fullscreen{
  position: fixed; top: 50%; left: 50%;
  width: min(94vw, 1200px);
  aspect-ratio: 3/2;
  transform: translate(-50%, -50%) rotateY(180deg);
  transition: transform .8s cubic-bezier(.2,.7,.2,1), width .6s ease;
  z-index: 1300;
}

/* Pista visual */
.invite-stage .hint{ display:block; margin-top: 1rem; font-size: .9rem; }

/* Accesibilidad */
#enterBtn:focus-visible, .envelope:focus-visible{
  outline: 3px solid #ffd700; outline-offset: 4px;
}
